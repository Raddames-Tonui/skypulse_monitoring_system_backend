<?xml version="1.0" encoding="UTF-8"?><configuration>
    <!--  Undertow Server Configuration -->
    <server>
        <host mode="TEXT">localhost</host>
        <port mode="TEXT">8002</port>
        <ioThreads mode="TEXT">10</ioThreads>
        <workerThreads mode="TEXT">100</workerThreads>
        <basePath mode="TEXT">/api/rest</basePath>
    </server>

    <!-- JWT-CONFIGURATION   -->
    <!--   accessToken = in Minutes    refreshToken = in Days -->
    <jwtConfig>
        <accessToken mode="TEXT">60</accessToken>
        <refreshToken mode="TEXT">30</refreshToken>
    </jwtConfig>

    <!-- PostgresSQL Data Source Configuration -->
    <dataSource>
        <driverClassName>org.postgresql.Driver</driverClassName>

        <jdbcUrl mode="TEXT">jdbc:postgresql://localhost:5432/skypulse_monitoring_system_database</jdbcUrl>

        <username mode="TEXT">spadmin</username>
        <password mode="TEXT">skyp@lse!2020</password>

        <!-- SSL Fix -->
        <encrypt mode="TEXT">false</encrypt>
        <trustServerCertificate mode="TEXT">false</trustServerCertificate>
    </dataSource>

    <!-- HikariCP Connection Pool Configuration -->
    <!--  pool size ≈ (CPU cores × 2) + effective DB parallelism -->
    <connectionPool>
        <maximumPoolSize mode="TEXT">10</maximumPoolSize>
        <minimumIdle mode="TEXT">3</minimumIdle>
        <idleTimeout mode="TEXT">60000</idleTimeout>
        <connectionTimeout mode="TEXT">30000</connectionTimeout>
        <maxLifetime mode="TEXT">1800000</maxLifetime>
    </connectionPool>

    <!-- Logging -->
    <logging>
        <level>INFO</level>
        <logFile mode="TEXT">logs/skypulse-db.log</logFile>
    </logging>

    <!-- Notification Channels    -->
    <notification enabled="true">

        <threads>
            <workerThreads mode="TEXT">10</workerThreads>
        </threads>

        <email>
            <smtpHost>smtp.gmail.com</smtpHost>
            <smtpPort mode="TEXT">587</smtpPort>
            <useTLS mode="TEXT">true</useTLS>
            <username mode="TEXT">raddamestonui48@gmail.com</username>
            <password mode="TEXT">pgqp kjmx zcml jdmv</password>
            <fromName>SkyPulse Monitor</fromName>
            <fromAddress mode="TEXT">raddamestonui48@gmail.com</fromAddress>
            <connectionTimeout mode="TEXT">10000</connectionTimeout>
            <retryAttempts mode="TEXT">3</retryAttempts>
        </email>
        <!-- Telegram Configuration -->
        <telegram enabled="true">
            <botToken mode="TEXT">8306205591:AAE1qu4bJavo4F_pybjRqnwdRPDHsbovTKw</botToken>
            <defaultChatId mode="TEXT">-1001234567890</defaultChatId>
            <apiUrl mode="TEXT">https://api.telegram.org</apiUrl>
            <parseMode>HTML</parseMode>
            <connectionTimeout mode="TEXT">5000</connectionTimeout>
            <sendRetryAttempts>2</sendRetryAttempts>
        </telegram>

        <!-- SMS Configuration (optional) -->
        <sms enabled="false">
            <provider mode="TEXT">twilio</provider>
            <accountSid mode="TEXT">ACxxxxxxxxxxxx</accountSid>
            <authToken mode="TEXT">xxxxxxxxxxxx</authToken>
            <senderNumber mode="TEXT">+12025550123</senderNumber>
            <defaultCountryCode mode="TEXT">+254</defaultCountryCode>
            <apiUrl mode="TEXT">https://api.twilio.com</apiUrl>
            <maxRetries mode="TEXT">2</maxRetries>
        </sms>
    </notification>
</configuration>
