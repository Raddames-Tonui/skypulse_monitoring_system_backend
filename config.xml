<?xml version="1.0" encoding="UTF-8"?>
<configurtion>
    <!--  Undertow Server Configuration -->
    <server>
        <host mode="TEXT">localhost</host>
        <port mode="TEXT">8000</port>
        <ioThreads mode="TEXT">10</ioThreads>
        <workerThreads mode="TEXT">100</workerThreads>
        <basePath mode="TEXT"> /api/rest</basePath>
    </server>

    <!-- PostgresSQL Data Source Configuration -->
    <dataSource>
        <driverClassName mode="TEXT">org.postgresql.Driver</driverClassName>
        <jdbcUrl mode="TEXT">jdbc:postgresql://localhost:5434/skypulse_monitoring_system_database</jdbcUrl>

        <user  mode="TEXT">spadmin</user>
        <password  mode="TEXT">skyp@lse!2020</password>

        <!-- SSL Fix -->
        <encrypt  mode="TEXT">false</encrypt>
        <trustServerCertificate  mode="TEXT">false</trustServerCertificate>
    </dataSource>

    <!-- HikariCP Connection Pool Configuration -->
    <!--  pool size ≈ (CPU cores × 2) + effective DB parallelism -->
    <connectionPool>
        <maximumPoolSize mode="TEXT">10</maximumPoolSize>
        <minimumIdle mode="TEXT" >2</minimumIdle>
        <idleTimeout mode="TEXT">60000</idleTimeout>
        <connectionTimeout mode="TEXT">30000</connectionTimeout>
        <maxLifetime mode="TEXT">1800000</maxLifetime>
    </connectionPool>

    <!-- Logging -->
    <logging>
        <level  mode="TEXT">INFO</level>
        <logFile  mode="TEXT">logs/skypulse-db.log</logFile>
    </logging>

    <!-- Notification Channels    -->
<!--    <notification enabled="true">-->
<!--        <email>-->
<!--            <smtpHost mode="TEXT">smtp.gmail.com</smtpHost>-->
<!--            <smtpPort mode="TEXT">587</smtpPort>-->
<!--            <useTLS mode="TEXT">true</useTLS>-->
<!--            <username mode="TEXT">alerts@skypulse.com</username>-->
<!--            <password mode="TEXT">StrongPasswordOrToken</password>-->
<!--            <fromName mode="TEXT">SkyPulse Monitor</fromName>-->
<!--            <fromAddress mode="TEXT">alert@skypulse.com</fromAddress>-->
<!--            <connectionTimeout mode="TEXT">10000</connectionTimeout>-->
<!--            <retryAttempts mode="TEXT">3</retryAttempts>-->
<!--        </email>-->
<!--        &lt;!&ndash; Telegram Configuration &ndash;&gt;-->
<!--        <telegram enabled="true">-->
<!--            <botToken mode="TEXT">123456789:ABCDEF-your-bot-token</botToken>-->
<!--            <defaultChatId mode="TEXT">-1001234567890</defaultChatId>-->
<!--            <apiUrl mode="TEXT">https://api.telegram.org</apiUrl>-->
<!--            <parseMode>HTML</parseMode>-->
<!--            <connectionTimeout mode="TEXT">5000</connectionTimeout>-->
<!--        </telegram>-->

<!--        &lt;!&ndash; SMS Configuration (optional) &ndash;&gt;-->
<!--        <sms enabled="false">-->
<!--            <provider mode="TEXT">twilio</provider>-->
<!--            <accountSid mode="TEXT">ACxxxxxxxxxxxx</accountSid>-->
<!--            <authToken mode="TEXT">xxxxxxxxxxxx</authToken>-->
<!--            <senderNumber mode="TEXT">+12025550123</senderNumber>-->
<!--            <defaultCountryCode mode="TEXT">+254</defaultCountryCode>-->
<!--            <apiUrl mode="TEXT">https://api.twilio.com</apiUrl>-->
<!--            <maxRetries mode="TEXT">2</maxRetries>-->
<!--        </sms>-->
<!--    </notification>-->
</configurtion>